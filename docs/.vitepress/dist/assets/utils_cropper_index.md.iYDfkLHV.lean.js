var f=Object.defineProperty;var v=(i,e,t)=>e in i?f(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var c=(i,e,t)=>v(i,typeof e!="symbol"?e+"":e,t);import{d as _,p as x,v as g,c as d,o as u,j as o,_ as m,G as b,a as p}from"./chunks/framework.De8Tkxod.js";class y{constructor(){c(this,"events",new Map)}on(e,t,r){this.events.has(e)||this.events.set(e,[]);const s=this.events.get(e)||[];return s.some(a=>a.callback===t)||s.push({callback:t,once:r}),this}once(e,t){return this.on(e,t,!0)}off(e,t){if(!this.events.has(e))return this;if(!t)return this.events.delete(e),this;const s=(this.events.get(e)||[]).filter(a=>a.callback!==t);return s.length===0?this.events.delete(e):this.events.set(e,s),this}emit(e,...t){if(!this.events.has(e))return!1;const r=this.events.get(e)||[],s=[...r],a=s.filter(n=>!n.once),h=s.filter(n=>n.once);if(a.forEach(n=>{try{n.callback.apply(this,t)}catch(l){console.error(`Error in event listener for "${e}":`,l)}}),h.forEach(n=>{try{n.callback.apply(this,t)}catch(l){console.error(`Error in once event listener for "${e}":`,l)}}),h.length>0){const n=r.filter(l=>!h.includes(l));n.length===0?this.events.delete(e):this.events.set(e,n)}return!0}clear(){return this.events.clear(),this}listenerCount(e){return this.events.has(e)?this.events.get(e).length:0}eventNames(){return Array.from(this.events.keys())}removeAllListeners(){return this.clear()}}class k extends y{constructor(t,r){super();c(this,"canvas");c(this,"ctx");c(this,"container");c(this,"options");this.container=t,this.options=r,this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.init()}init(){console.log(this.options);const{clientWidth:t,clientHeight:r}=this.container,s=window.devicePixelRatio||1;this.canvas.width=t*s,this.canvas.height=r*s,this.ctx.scale(s,s),this.canvas.style.width=`${t}px`,this.canvas.style.height=`${r}px`,this.ctx.fillStyle="red",this.ctx.fillRect(0,0,t,r),this.ctx.fill(),this.container.appendChild(this.canvas)}}const C={class:"cropper-demo"},E=_({__name:"index",setup(i){const e=x();return g(()=>{e.value&&new k(e.value,{aspectRatio:16/9})}),(t,r)=>(u(),d("div",C,[o("div",{ref_key:"cropperContainer",ref:e,class:"cropper-container"},null,512)]))}}),w=m(E,[["__scopeId","data-v-be0ebb84"]]),L=JSON.parse('{"title":"图片裁剪器","description":"","frontmatter":{"outline":"deep"},"headers":[],"relativePath":"utils/cropper/index.md","filePath":"content/utils/cropper/index.md","lastUpdated":null}'),P={name:"utils/cropper/index.md"},R=Object.assign(P,{setup(i){return(e,t)=>(u(),d("div",null,[t[0]||(t[0]=o("h1",{id:"图片裁剪器",tabindex:"-1"},[p("图片裁剪器 "),o("a",{class:"header-anchor",href:"#图片裁剪器","aria-label":'Permalink to "图片裁剪器"'},"​")],-1)),b(w),t[1]||(t[1]=o("div",{class:"tip custom-block"},[o("p",{class:"custom-block-title"},"TIP"),o("p",null,[p("基于 "),o("a",{href:"https://remixicon.com/",target:"_blank",rel:"noreferrer"},"REMIX ICON"),p(" 免费用于个人用途和商业用途的图标库进行封装。")])],-1))]))}});export{L as __pageData,R as default};
